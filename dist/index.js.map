{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["type EventHandler = (e?: Event) => void\n\nconst executeTasks = (tasks: EventHandler | EventHandler[]): void => {\n    if (!Array.isArray(tasks)) {\n        tasks = [tasks]\n    }\n    tasks.forEach((task) => task())\n}\n\nconst handlerOptions = { once: true }\n\nconst onInteractive = (tasks: EventHandler | EventHandler[]): void => {\n    // wait for event\n    if (document.readyState === 'loading') {\n        window.addEventListener(\n            'DOMContentLoaded',\n            () => {\n                executeTasks(tasks)\n            },\n            handlerOptions,\n        )\n    }\n    // execute right away\n    else {\n        executeTasks(tasks)\n    }\n}\n\nconst onComplete = (tasks: EventHandler | EventHandler[]): void => {\n    // execute right away\n    if (document.readyState === 'complete') {\n        executeTasks(tasks)\n    }\n    // wait for event\n    else {\n        window.addEventListener(\n            'load',\n            () => {\n                executeTasks(tasks)\n            },\n            handlerOptions,\n        )\n    }\n}\n\nconst documentStaging = {\n    onInteractive: onInteractive,\n    onComplete: onComplete,\n}\n\nexport default documentStaging\n"],"names":[],"mappings":";;;;;;IAEA,MAAM,YAAA,GAAe,CAAC,KAA+C,KAAA;IACjE,EAAA,IAAI,CAAC,KAAA,CAAM,OAAQ,CAAA,KAAK,CAAG,EAAA;IACvB,IAAA,KAAA,GAAQ,CAAC,KAAK,CAAA,CAAA;IAAA,GAClB;IACA,EAAA,KAAA,CAAM,OAAQ,CAAA,CAAC,IAAS,KAAA,IAAA,EAAM,CAAA,CAAA;IAClC,CAAA,CAAA;IAEA,MAAM,cAAA,GAAiB,EAAE,IAAA,EAAM,IAAK,EAAA,CAAA;IAEpC,MAAM,aAAA,GAAgB,CAAC,KAA+C,KAAA;IAElE,EAAI,IAAA,QAAA,CAAS,eAAe,SAAW,EAAA;IACnC,IAAO,MAAA,CAAA,gBAAA;IAAA,MACH,kBAAA;IAAA,MACA,MAAM;IACF,QAAA,YAAA,CAAa,KAAK,CAAA,CAAA;IAAA,OACtB;IAAA,MACA,cAAA;IAAA,KACJ,CAAA;IAAA,GAGC,MAAA;IACD,IAAA,YAAA,CAAa,KAAK,CAAA,CAAA;IAAA,GACtB;IACJ,CAAA,CAAA;IAEA,MAAM,UAAA,GAAa,CAAC,KAA+C,KAAA;IAE/D,EAAI,IAAA,QAAA,CAAS,eAAe,UAAY,EAAA;IACpC,IAAA,YAAA,CAAa,KAAK,CAAA,CAAA;IAAA,GAGjB,MAAA;IACD,IAAO,MAAA,CAAA,gBAAA;IAAA,MACH,MAAA;IAAA,MACA,MAAM;IACF,QAAA,YAAA,CAAa,KAAK,CAAA,CAAA;IAAA,OACtB;IAAA,MACA,cAAA;IAAA,KACJ,CAAA;IAAA,GACJ;IACJ,CAAA,CAAA;AAEA,UAAM,eAAkB,GAAA;IAAA,EACpB,aAAA;IAAA,EACA,UAAA;IACJ;;;;;;;;"}