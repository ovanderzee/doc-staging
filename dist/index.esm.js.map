{"version":3,"file":"index.esm.js","sources":["../src/index.ts"],"sourcesContent":["type EventHandler = (e?: Event) => void\n\nconst executeTasks = (tasks: EventHandler | EventHandler[]): void => {\n    if (!Array.isArray(tasks)) {\n        tasks = [tasks]\n    }\n    tasks.forEach((task) => task())\n}\n\nconst handlerOptions = { once: true }\n\nconst onInteractive = (tasks: EventHandler | EventHandler[]): void => {\n    // wait for event\n    if (document.readyState === 'loading') {\n        window.addEventListener(\n            'DOMContentLoaded',\n            () => {\n                executeTasks(tasks)\n            },\n            handlerOptions,\n        )\n    }\n    // execute right away\n    else {\n        executeTasks(tasks)\n    }\n}\n\nconst onComplete = (tasks: EventHandler | EventHandler[]): void => {\n    // execute right away\n    if (document.readyState === 'complete') {\n        executeTasks(tasks)\n    }\n    // wait for event\n    else {\n        window.addEventListener(\n            'load',\n            () => {\n                executeTasks(tasks)\n            },\n            handlerOptions,\n        )\n    }\n}\n\nconst documentStaging = {\n    onInteractive: onInteractive,\n    onComplete: onComplete,\n}\n\nexport default documentStaging\n"],"names":[],"mappings":"AAEA,MAAM,YAAA,GAAe,CAAC,KAA+C,KAAA;AACjE,EAAA,IAAI,CAAC,KAAA,CAAM,OAAQ,CAAA,KAAK,CAAG,EAAA;AACvB,IAAA,KAAA,GAAQ,CAAC,KAAK,CAAA,CAAA;AAAA,GAClB;AACA,EAAA,KAAA,CAAM,OAAQ,CAAA,CAAC,IAAS,KAAA,IAAA,EAAM,CAAA,CAAA;AAClC,CAAA,CAAA;AAEA,MAAM,cAAA,GAAiB,EAAE,IAAA,EAAM,IAAK,EAAA,CAAA;AAEpC,MAAM,aAAA,GAAgB,CAAC,KAA+C,KAAA;AAElE,EAAI,IAAA,QAAA,CAAS,eAAe,SAAW,EAAA;AACnC,IAAO,MAAA,CAAA,gBAAA;AAAA,MACH,kBAAA;AAAA,MACA,MAAM;AACF,QAAA,YAAA,CAAa,KAAK,CAAA,CAAA;AAAA,OACtB;AAAA,MACA,cAAA;AAAA,KACJ,CAAA;AAAA,GAGC,MAAA;AACD,IAAA,YAAA,CAAa,KAAK,CAAA,CAAA;AAAA,GACtB;AACJ,CAAA,CAAA;AAEA,MAAM,UAAA,GAAa,CAAC,KAA+C,KAAA;AAE/D,EAAI,IAAA,QAAA,CAAS,eAAe,UAAY,EAAA;AACpC,IAAA,YAAA,CAAa,KAAK,CAAA,CAAA;AAAA,GAGjB,MAAA;AACD,IAAO,MAAA,CAAA,gBAAA;AAAA,MACH,MAAA;AAAA,MACA,MAAM;AACF,QAAA,YAAA,CAAa,KAAK,CAAA,CAAA;AAAA,OACtB;AAAA,MACA,cAAA;AAAA,KACJ,CAAA;AAAA,GACJ;AACJ,CAAA,CAAA;AAEA,MAAM,eAAkB,GAAA;AAAA,EACpB,aAAA;AAAA,EACA,UAAA;AACJ;;;;"}